import BaseLayout from '../layouts/BaseLayout.astro';
import { getBasePath, prefixWithBase } from '../utils/paths';
const basePath = getBasePath(Astro.site);
---
<BaseLayout
  title="Build Process | CORELOT Homes"
  description="Step-by-step guide to building your custom home on your land with CORELOT Homes‚Äîfrom design retainer to final walkthrough."
  canonicalPath="/process"
>
  <header class="page-header">
    <p class="pill">Our Process</p>
    <h1>From land to keys: Your build journey, step by step.</h1>
    <p class="lede">Building on your own lot requires careful planning, permitting, and coordination. We guide you through every phase with transparency and expertise, ensuring you understand what to expect before breaking ground.</p>
  </header>

  <section class="overview">
    <h2>The CORELOT Approach</h2>
    <p>Unlike production builders who work in established subdivisions, on-your-lot construction means every project starts from scratch. Your land's unique conditions‚Äîtopography, utilities, zoning, and soil‚Äîdirectly affect feasibility, timeline, and budget. That's why we begin with a <strong>design retainer</strong> to assess your site, select the right plan, and develop a complete budget before you commit to construction.</p>
    <p>This disciplined approach protects both you and us from costly surprises and ensures we only move forward when we're confident we can deliver on your vision.</p>
  </section>

  <section class="timeline-section">
    <h2>The Build Timeline</h2>
    <p class="timeline-intro">From first contact to final walkthrough, here's what to expect. Total timeline: typically <strong>12‚Äì18 months</strong> depending on permitting and site complexity.</p>

    <div class="timeline">
      <div class="phase">
        <div class="phase-number">1</div>
        <div class="phase-content">
          <h3>Initial Consultation</h3>
          <p class="phase-duration">Week 1</p>
          <p>We discuss your land, budget, timeline, and vision. No charge for this exploratory call.</p>
          <div class="phase-details">
            <h4>What you'll need:</h4>
            <ul>
              <li>Land address or parcel ID</li>
              <li>Lot size and general topography</li>
              <li>Desired square footage or plan preferences</li>
              <li>Estimated budget and timeline</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="phase">
        <div class="phase-number">2</div>
        <div class="phase-content">
          <h3>Design Retainer Phase</h3>
          <p class="phase-duration">4‚Äì8 weeks</p>
          <p>You pay a design retainer (typically $5,000‚Äì$10,000) that covers site evaluation, plan selection, preliminary budgeting, and feasibility assessment. This fee is <strong>credited toward construction</strong> if we proceed.</p>
          <div class="phase-details">
            <h4>What we do:</h4>
            <ul>
              <li>Order perc test, soil report, and survey (if needed)</li>
              <li>Review zoning and setback requirements</li>
              <li>Evaluate utility access and extension costs</li>
              <li>Help you select or customize a plan</li>
              <li>Develop detailed line-item budget</li>
              <li>Provide go/no-go recommendation</li>
            </ul>
            <h4>Design retainer outcome:</h4>
            <p>At the end of this phase, you'll have a clear understanding of total project cost, timeline, and site challenges. If the numbers don't work, you walk away having spent only the retainer. If they do, we move to contract.</p>
          </div>
        </div>
      </div>

      <div class="phase">
        <div class="phase-number">3</div>
        <div class="phase-content">
          <h3>Contract & Permitting</h3>
          <p class="phase-duration">6‚Äì12 weeks</p>
          <p>We finalize the construction contract, submit permit applications, and order engineered plans. Your lender begins the construction loan process.</p>
          <div class="phase-details">
            <h4>What happens:</h4>
            <ul>
              <li>Sign construction contract</li>
              <li>Submit building permit application</li>
              <li>Order engineered foundation and structural plans</li>
              <li>Finalize material selections and allowances</li>
              <li>Schedule pre-construction meeting with lender</li>
            </ul>
            <h4>Your role:</h4>
            <ul>
              <li>Provide deposit (typically 10% of contract price)</li>
              <li>Work with lender to finalize construction-to-perm loan</li>
              <li>Make final interior/exterior selections</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="phase">
        <div class="phase-number">4</div>
        <div class="phase-content">
          <h3>Site Preparation</h3>
          <p class="phase-duration">2‚Äì4 weeks</p>
          <p>Once permits are issued, we clear and grade the site, install the septic system (if applicable), bring in utilities, and prepare for foundation work.</p>
          <div class="phase-details">
            <h4>Site work includes:</h4>
            <ul>
              <li>Tree clearing and grading</li>
              <li>Septic system installation and inspection</li>
              <li>Well drilling (if needed)</li>
              <li>Utility trenching and temporary power</li>
              <li>Erosion control and stormwater management</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="phase">
        <div class="phase-number">5</div>
        <div class="phase-content">
          <h3>Foundation & Framing</h3>
          <p class="phase-duration">4‚Äì6 weeks</p>
          <p>We pour the foundation, let it cure, and begin framing. This is when your home really starts to take shape.</p>
          <div class="phase-details">
            <h4>Construction milestones:</h4>
            <ul>
              <li>Foundation footers and walls poured</li>
              <li>Foundation inspection and backfill</li>
              <li>Floor system and framing</li>
              <li>Roof trusses and sheathing</li>
              <li>Rough framing inspection</li>
            </ul>
            <h4>Lender draw:</h4>
            <p>Your lender will conduct an inspection and release the first construction draw to cover foundation and framing costs.</p>
          </div>
        </div>
      </div>

      <div class="phase">
        <div class="phase-number">6</div>
        <div class="phase-content">
          <h3>Mechanicals & Insulation</h3>
          <p class="phase-duration">4‚Äì6 weeks</p>
          <p>Plumbing, HVAC, and electrical systems are installed and inspected. Insulation and drywall follow.</p>
          <div class="phase-details">
            <h4>This phase includes:</h4>
            <ul>
              <li>Rough plumbing installation</li>
              <li>HVAC ductwork and equipment</li>
              <li>Electrical rough-in</li>
              <li>Insulation and vapor barrier</li>
              <li>Drywall installation and finishing</li>
              <li>Mechanical, plumbing, and electrical inspections</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="phase">
        <div class="phase-number">7</div>
        <div class="phase-content">
          <h3>Interior & Exterior Finishes</h3>
          <p class="phase-duration">8‚Äì10 weeks</p>
          <p>The home is fully enclosed and we shift to finish work: siding, trim, cabinetry, flooring, countertops, paint, and fixtures.</p>
          <div class="phase-details">
            <h4>Finish work includes:</h4>
            <ul>
              <li>Exterior siding and trim</li>
              <li>Interior trim and doors</li>
              <li>Cabinet and countertop installation</li>
              <li>Flooring (hardwood, tile, carpet)</li>
              <li>Paint and wallcoverings</li>
              <li>Plumbing fixtures and appliances</li>
              <li>Light fixtures and hardware</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="phase">
        <div class="phase-number">8</div>
        <div class="phase-content">
          <h3>Final Inspections & Walkthrough</h3>
          <p class="phase-duration">1‚Äì2 weeks</p>
          <p>We complete punch-list items, pass final inspections, and conduct a detailed walkthrough with you before closing.</p>
          <div class="phase-details">
            <h4>Final steps:</h4>
            <ul>
              <li>Complete punch-list corrections</li>
              <li>Final building inspection and certificate of occupancy</li>
              <li>Final walkthrough with you</li>
              <li>Lender final draw and inspection</li>
              <li>Closing and key delivery</li>
            </ul>
            <h4>Warranty and support:</h4>
            <p>You'll receive warranty documentation and our contact information for any post-closing support needs.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="communication-section">
    <h2>Staying Informed Throughout the Build</h2>
    <div class="communication-grid">
      <div class="comm-card">
        <h3>üìÖ Regular Updates</h3>
        <p>Weekly progress calls or emails keep you informed of milestones, upcoming inspections, and any decisions that need your input.</p>
      </div>
      <div class="comm-card">
        <h3>üì∏ Photo Documentation</h3>
        <p>We document each phase with photos so you can see progress even if you can't visit the site regularly.</p>
      </div>
      <div class="comm-card">
        <h3>üîç Transparent Budgeting</h3>
        <p>You'll receive detailed invoices tied to lender draw schedules, ensuring full visibility into where your money goes.</p>
      </div>
      <div class="comm-card">
        <h3>ü§ù Single Point of Contact</h3>
        <p>Your project manager is available by phone and email to answer questions and coordinate site visits.</p>
      </div>
    </div>
  </section>

  <section class="faq-section">
    <h2>Process FAQs</h2>
    <div class="faq-grid">
      <div class="faq-item">
        <h4>What if I don't have land yet?</h4>
        <p>We're happy to review potential lots before you purchase. Bring us the parcel information and we'll provide feedback on feasibility and estimated site costs.</p>
      </div>
      <div class="faq-item">
        <h4>Can I make changes during construction?</h4>
        <p>Changes are possible but become more expensive the further into construction we are. Most changes happen during the design retainer phase when they're easiest and least costly.</p>
      </div>
      <div class="faq-item">
        <h4>How often can I visit the job site?</h4>
        <p>You're welcome to visit anytime, though we ask that you coordinate with your project manager for safety and scheduling reasons.</p>
      </div>
      <div class="faq-item">
        <h4>What happens if we go over budget?</h4>
        <p>The design retainer process is specifically designed to prevent budget surprises. If unforeseen conditions arise (like rock excavation), we discuss options before proceeding.</p>
      </div>
      <div class="faq-item">
        <h4>Do you build year-round?</h4>
        <p>Yes, though winter weather can slow certain phases like concrete work and site prep. We account for seasonal factors in timeline estimates.</p>
      </div>
      <div class="faq-item">
        <h4>What's included in the design retainer?</h4>
        <p>Site evaluation, perc test, soil reports, plan selection assistance, preliminary budgeting, and feasibility assessment. The retainer is credited toward construction if we proceed.</p>
      </div>
    </div>
  </section>

  <section class="cta-section">
    <h2>Ready to get started?</h2>
    <p>Schedule a complimentary consultation to discuss your land and project goals. No pressure, just honest guidance on whether on-your-lot construction is right for you.</p>
    <a href={prefixWithBase('/contact', basePath)} class="cta-button">Contact Us Today</a>
  </section>
</BaseLayout>

<style>
.page-header {
  margin-bottom: 2.5rem;
  max-width: 70ch;
}
.lede {
  color: #4b5563;
  font-size: 1.1rem;
  line-height: 1.6;
}

.overview {
  background: #f8f9fb;
  padding: 2rem;
  border-radius: 12px;
  margin-bottom: 3rem;
  border-left: 4px solid #cc5500;
}
.overview h2 {
  color: #0d2340;
  margin-top: 0;
}
.overview p {
  color: #374151;
  line-height: 1.7;
  margin-bottom: 1rem;
}
.overview p:last-child {
  margin-bottom: 0;
}

.timeline-section {
  margin-bottom: 3rem;
}
.timeline-section h2 {
  color: #0d2340;
  margin-bottom: 0.5rem;
}
.timeline-intro {
  color: #6b7280;
  font-size: 1.05rem;
  margin-bottom: 2.5rem;
}

.timeline {
  position: relative;
  padding-left: 2rem;
}
.timeline::before {
  content: '';
  position: absolute;
  left: 1.75rem;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(to bottom, #cc5500, #f18f01);
}

.phase {
  position: relative;
  margin-bottom: 3rem;
  padding-left: 3rem;
}
.phase:last-child {
  margin-bottom: 0;
}

.phase-number {
  position: absolute;
  left: 0;
  top: 0;
  width: 3.5rem;
  height: 3.5rem;
  background: linear-gradient(135deg, #cc5500, #f18f01);
  color: #fff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1.5rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  z-index: 1;
}

.phase-content {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 1.5rem;
}
.phase-content h3 {
  color: #0d2340;
  margin-top: 0;
  margin-bottom: 0.25rem;
  font-size: 1.3rem;
}
.phase-duration {
  color: #cc5500;
  font-weight: 700;
  font-size: 0.9rem;
  margin-bottom: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}
.phase-content > p {
  color: #4b5563;
  line-height: 1.6;
  margin-bottom: 1rem;
}

.phase-details {
  background: #f8f9fb;
  padding: 1.25rem;
  border-radius: 8px;
  margin-top: 1rem;
}
.phase-details h4 {
  color: #0d2340;
  margin-top: 0;
  margin-bottom: 0.75rem;
  font-size: 1rem;
}
.phase-details ul {
  margin: 0;
  padding-left: 1.5rem;
  color: #4b5563;
}
.phase-details li {
  margin-bottom: 0.4rem;
  line-height: 1.5;
}
.phase-details p {
  color: #4b5563;
  margin: 0.75rem 0 0;
  line-height: 1.6;
}

.communication-section {
  background: linear-gradient(135deg, #0d2340, #16325b);
  color: #fff;
  padding: 2.5rem;
  border-radius: 16px;
  margin-bottom: 3rem;
}
.communication-section h2 {
  color: #fff;
  margin-top: 0;
  text-align: center;
  margin-bottom: 2rem;
}
.communication-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1.5rem;
}
.comm-card {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  padding: 1.5rem;
  backdrop-filter: blur(10px);
}
.comm-card h3 {
  color: #fff;
  margin-top: 0;
  margin-bottom: 0.75rem;
  font-size: 1.05rem;
}
.comm-card p {
  color: #cbd5e1;
  font-size: 0.95rem;
  line-height: 1.6;
  margin: 0;
}

.faq-section {
  margin-bottom: 3rem;
}
.faq-section h2 {
  color: #0d2340;
  margin-bottom: 1.5rem;
}
.faq-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.25rem;
}
.faq-item {
  background: #f8f9fb;
  border-left: 4px solid #cc5500;
  padding: 1.25rem;
  border-radius: 8px;
}
.faq-item h4 {
  color: #0d2340;
  margin-top: 0;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}
.faq-item p {
  color: #374151;
  font-size: 0.95rem;
  margin: 0;
  line-height: 1.6;
}

.cta-section {
  background: #f8f9fb;
  padding: 2.5rem;
  border-radius: 16px;
  text-align: center;
}
.cta-section h2 {
  color: #0d2340;
  margin-top: 0;
  margin-bottom: 0.75rem;
}
.cta-section p {
  color: #4b5563;
  font-size: 1.05rem;
  line-height: 1.6;
  max-width: 60ch;
  margin: 0 auto 1.5rem;
}
.cta-button {
  display: inline-block;
  background: #cc5500;
  color: #fff;
  padding: 0.85rem 2rem;
  border-radius: 10px;
  font-weight: 700;
  text-decoration: none;
  transition: all 0.2s;
}
.cta-button:hover {
  background: #b34c00;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(204, 85, 0, 0.3);
}

@media (max-width: 768px) {
  .timeline {
    padding-left: 0;
  }
  .timeline::before {
    left: 1.75rem;
  }
  .phase {
    padding-left: 4.5rem;
  }
}
</style>
